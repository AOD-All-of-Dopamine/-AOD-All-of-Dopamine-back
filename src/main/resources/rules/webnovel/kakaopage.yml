platformName: KakaoPage
domain: WEBNOVEL
schemaVersion: 3

fieldMappings:
  # === Contents (마스터 공통) ===
  title: master_title
  imageUrl: poster_image_url
  synopsis: synopsis
  author: domain.author

  # === Platform_Data ===
  productUrl: platform.url
  seriesId: platform.platform_specific_id

  # === Platform_Data.attributes(JSONB) ===

  publisher: platform.attributes.publisher
  status: platform.attributes.status
  ageRating: platform.attributes.age_rating
  genres: platform.attributes.genres
  keywords: platform.attributes.keywords
  rating: platform.attributes.rating
  viewCount: platform.attributes.view_count
  commentCount: platform.attributes.comment_count

normalizers:
  - type: strip_parentheses
    fields: [master_title]
  - type: collapse_spaces
    fields: [master_title]
  - type: nfkc
    fields: [master_title, platform.attributes.author, platform.attributes.publisher]