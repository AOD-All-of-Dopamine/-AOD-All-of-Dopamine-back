platformName: Steam
domain: GAME
schemaVersion: 2

fieldMappings:
  # === Master & Platform Mappings ===
  name: master_title
  header_image: poster_image_url
  short_description: synopsis
  steam_appid: platform.platform_specific_id

  # === Domain Mappings (for domainDoc) ===
  release_date.date: domain.release_date
  developers[0]: domain.developer
  publishers[0]: domain.publisher
  platforms: domain.platforms
  genres: domain.genres

  # === Platform Attributes ===
  price_overview: platform.attributes.price_overview
  metacritic: platform.attributes.metacritic
  is_free: platform.attributes.is_free
  required_age: platform.attributes.required_age
  detailed_description: platform.attributes.detailed_description
  categories: platform.attributes.categories
  recommendations.total: platform.attributes.recommendation_count

domainObjectMappings:
  release_date:
    targetField: releaseDate
    type: date
  developer:
    targetField: developer
    type: string
  publisher:
    targetField: publisher
    type: string
  platforms:
    targetField: platforms
    type: map
  genres:
    targetField: genres
    type: map

normalizers:
  - type: nfkc
    fields: [master_title]
  - type: strip_parentheses
    fields: [master_title]
  - type: collapse_spaces
    fields: [master_title]